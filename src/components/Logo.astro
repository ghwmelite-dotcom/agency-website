---
interface Props {
  variant?: 'default' | 'light' | 'dark';
  size?: 'sm' | 'md' | 'lg';
  showText?: boolean;
}

const { variant = 'default', size = 'md', showText = true } = Astro.props;

const sizes = {
  sm: { icon: 36, text: '1.25rem' },
  md: { icon: 42, text: '1.5rem' },
  lg: { icon: 52, text: '2rem' }
};
---

<div class={`logo-container logo-${variant} logo-${size}`}>
  <!-- Modern Elite Logo Icon -->
  <svg
    class="logo-icon"
    width={sizes[size].icon}
    height={sizes[size].icon}
    viewBox="0 0 100 100"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <defs>
      <!-- Elite Gradient -->
      <linearGradient id="logo-grad-elite" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
        <stop offset="50%" style="stop-color:#764ba2;stop-opacity:1" />
        <stop offset="100%" style="stop-color:#f093fb;stop-opacity:1" />
      </linearGradient>

      <!-- Accent Gradient -->
      <linearGradient id="logo-grad-accent" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
        <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
      </linearGradient>

      <!-- Glow Filter -->
      <filter id="logo-glow-elite">
        <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
        <feMerge>
          <feMergeNode in="coloredBlur"/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
    </defs>

    <!-- Outer Hexagon Frame -->
    <path
      class="logo-hexagon"
      d="M 50 8 L 80 25 L 80 60 L 50 77 L 20 60 L 20 25 Z"
      stroke="url(#logo-grad-elite)"
      stroke-width="2"
      fill="none"
      opacity="0.4"
    />

    <!-- Inner Shield Shape -->
    <path
      class="logo-shield"
      d="M 50 15 L 72 28 L 72 55 L 50 70 L 28 55 L 28 28 Z"
      fill="url(#logo-grad-elite)"
      opacity="0.1"
    />

    <!-- Stylized "O" letterform with modern twist -->
    <g filter="url(#logo-glow-elite)">
      <!-- Main "O" circle -->
      <circle
        class="logo-circle-outer"
        cx="50"
        cy="42"
        r="18"
        stroke="url(#logo-grad-elite)"
        stroke-width="4"
        fill="none"
      />
      
      <!-- Inner accent circle -->
      <circle
        class="logo-circle-inner"
        cx="50"
        cy="42"
        r="10"
        fill="url(#logo-grad-accent)"
        opacity="0.6"
      />

      <!-- Dynamic "W" formation at bottom -->
      <path
        class="logo-w-shape"
        d="M 35 60 L 42 48 L 50 55 L 58 48 L 65 60"
        stroke="url(#logo-grad-elite)"
        stroke-width="4"
        stroke-linecap="round"
        stroke-linejoin="round"
        fill="none"
      />

      <!-- Accent dots -->
      <circle class="logo-dot logo-dot-1" cx="50" cy="42" r="3" fill="white" opacity="0.9" />
      <circle class="logo-dot logo-dot-2" cx="38" cy="60" r="2" fill="url(#logo-grad-accent)" />
      <circle class="logo-dot logo-dot-3" cx="62" cy="60" r="2" fill="url(#logo-grad-accent)" />
    </g>
  </svg>

  <!-- Logo Text -->
  {showText && (
    <span class="logo-text" style={`font-size: ${sizes[size].text}`} id="logo-text-dynamic">
      <span class="logo-text-oh">OH</span>
      <span class="logo-text-wp">WP</span>
      <span class="logo-text-studios">Studios</span>
    </span>
  )}
</div>

<style>
  .logo-container {
    display: flex;
    align-items: center;
    gap: 0.875rem;
    text-decoration: none;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .logo-container:hover {
    transform: translateY(-1px);
  }

  /* Logo Icon Styles */
  .logo-icon {
    flex-shrink: 0;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .logo-container:hover .logo-icon {
    filter: drop-shadow(0 6px 20px rgba(102, 126, 234, 0.4));
    transform: scale(1.05);
  }

  /* Hexagon Animation */
  .logo-hexagon {
    animation: rotate-hexagon 20s linear infinite;
    transform-origin: 50px 42.5px;
  }

  @keyframes rotate-hexagon {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  /* Shield Pulse */
  .logo-shield {
    animation: pulse-shield 3s ease-in-out infinite;
  }

  @keyframes pulse-shield {
    0%, 100% {
      opacity: 0.1;
    }
    50% {
      opacity: 0.2;
    }
  }

  /* Circle Animations */
  .logo-circle-outer {
    animation: pulse-circle 3s ease-in-out infinite;
  }

  @keyframes pulse-circle {
    0%, 100% {
      stroke-width: 4;
      opacity: 1;
    }
    50% {
      stroke-width: 5;
      opacity: 0.8;
    }
  }

  .logo-circle-inner {
    animation: breathe-inner 4s ease-in-out infinite;
  }

  @keyframes breathe-inner {
    0%, 100% {
      transform: scale(1);
      opacity: 0.6;
    }
    50% {
      transform: scale(1.1);
      opacity: 0.8;
    }
  }

  /* W Shape Animation */
  .logo-w-shape {
    animation: pulse-w 2.5s ease-in-out infinite;
  }

  @keyframes pulse-w {
    0%, 100% {
      stroke-width: 4;
      opacity: 1;
    }
    50% {
      stroke-width: 5;
      opacity: 0.9;
    }
  }

  /* Dot Animations */
  .logo-dot {
    animation: pulse-dot 2s ease-in-out infinite;
  }

  .logo-dot-1 {
    animation-delay: 0s;
  }

  .logo-dot-2 {
    animation-delay: 0.3s;
  }

  .logo-dot-3 {
    animation-delay: 0.6s;
  }

  @keyframes pulse-dot {
    0%, 100% {
      transform: scale(1);
      opacity: 0.9;
    }
    50% {
      transform: scale(1.3);
      opacity: 1;
    }
  }

  /* Logo Text Styles */
  .logo-text {
    font-weight: 800;
    letter-spacing: -0.03em;
    display: flex;
    align-items: baseline;
    gap: 0.2em;
    white-space: nowrap;
    position: relative;
  }

  .logo-text-oh {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
    background-size: 200% 200%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradient-flow 4s ease infinite;
    font-weight: 900;
    position: relative;
  }

  .logo-text-wp {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
    background-size: 200% 200%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradient-flow 4s ease infinite;
    animation-delay: 0.5s;
    font-weight: 900;
  }

  .logo-text-studios {
    color: var(--color-text);
    font-weight: 700;
    opacity: 0.85;
    transition: all 0.3s ease;
  }

  @keyframes gradient-flow {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  /* Variant Styles */
  .logo-light .logo-text-studios {
    color: white;
    opacity: 0.95;
  }

  .logo-dark .logo-text-studios {
    color: #1a1a2e;
  }

  /* Size Variants */
  .logo-sm {
    gap: 0.625rem;
  }

  .logo-md {
    gap: 0.875rem;
  }

  .logo-lg {
    gap: 1.125rem;
  }

  /* Hover Effects */
  .logo-container:hover .logo-text-oh,
  .logo-container:hover .logo-text-wp {
    animation-duration: 2s;
  }

  .logo-container:hover .logo-text-studios {
    opacity: 1;
    transform: translateX(2px);
  }

  /* Responsive */
  @media (max-width: 768px) {
    .logo-container {
      gap: 0.625rem;
    }

    .logo-text {
      letter-spacing: -0.02em;
    }
  }

  /* Prevent animation performance issues */
  @media (prefers-reduced-motion: reduce) {
    .logo-hexagon,
    .logo-shield,
    .logo-circle-outer,
    .logo-circle-inner,
    .logo-w-shape,
    .logo-dot {
      animation: none;
    }

    .logo-icon,
    .logo-container,
    .logo-text-studios {
      transition: none;
    }
  }
</style>
