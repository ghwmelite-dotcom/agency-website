---
import BaseLayout from './BaseLayout.astro';
import Header from '@/components/Header.astro';
import Footer from '@/components/Footer.astro';

export interface Props {
  title: string;
  description: string;
  keywords: string;
  h1: string;
  heroTitle: string;
  heroSubtitle: string;
  canonicalUrl?: string;
  schema?: any;
}

const {
  title,
  description,
  keywords,
  h1,
  heroTitle,
  heroSubtitle,
  canonicalUrl,
  schema
} = Astro.props;

const defaultSchema = {
  "@context": "https://schema.org",
  "@type": "Service",
  "name": title,
  "description": description,
  "provider": {
    "@type": "Organization",
    "name": "OHWP Studios",
    "url": "https://ohwpstudios.pages.dev"
  }
};

const finalSchema = schema || defaultSchema;
---

<BaseLayout title={title} description={description}>
  <Fragment slot="head">
    <meta name="keywords" content={keywords}>
    {canonicalUrl && <link rel="canonical" href={canonicalUrl}>}
    <script type="application/ld+json" set:html={JSON.stringify(finalSchema)}></script>
  </Fragment>

  <Header />

  <!-- SEO Hero Section -->
  <section class="seo-hero">
    <div class="container">
      <div class="seo-hero-content">
        <h1 class="seo-h1">{h1}</h1>
        <h2 class="seo-hero-title">{heroTitle}</h2>
        <p class="seo-hero-subtitle">{heroSubtitle}</p>
        <div class="seo-cta-group">
          <a href="/booking" class="btn btn-primary btn-lg">Get Started</a>
          <a href="/#portfolio" class="btn btn-secondary btn-lg">View Our Work</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Main Content Slot -->
  <main>
    <slot />
  </main>

  <!-- CTA Section -->
  <section class="seo-cta-section">
    <div class="container">
      <div class="seo-cta-content">
        <h2>Ready to Start Your Project?</h2>
        <p>Let's discuss how we can help bring your vision to life</p>
        <a href="/booking" class="btn btn-primary btn-lg">Book Free Consultation</a>
      </div>
    </div>
  </section>

  <Footer />
</BaseLayout>

<style>
  /* SEO Hero */
  .seo-hero {
    padding: calc(var(--header-height) + var(--spacing-3xl)) 0 var(--spacing-3xl);
    background: radial-gradient(circle at top, rgba(99, 102, 241, 0.1), transparent 50%);
  }

  .seo-hero-content {
    text-align: center;
    max-width: 900px;
    margin: 0 auto;
  }

  .seo-h1 {
    font-size: clamp(2.5rem, 5vw, 3.5rem);
    font-weight: 800;
    margin-bottom: var(--spacing-md);
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1.2;
  }

  .seo-hero-title {
    font-size: clamp(1.2rem, 2.5vw, 1.5rem);
    color: var(--color-text);
    margin-bottom: var(--spacing-md);
    font-weight: 600;
  }

  .seo-hero-subtitle {
    font-size: clamp(1rem, 2vw, 1.2rem);
    color: var(--color-text-muted);
    margin-bottom: var(--spacing-xl);
    line-height: 1.8;
  }

  .seo-cta-group {
    display: flex;
    gap: var(--spacing-md);
    justify-content: center;
    flex-wrap: wrap;
  }

  /* CTA Section */
  .seo-cta-section {
    padding: var(--spacing-3xl) 0;
    background: var(--gradient-card);
    border-top: 1px solid var(--color-border);
    border-bottom: 1px solid var(--color-border);
  }

  .seo-cta-content {
    text-align: center;
    max-width: 700px;
    margin: 0 auto;
  }

  .seo-cta-content h2 {
    font-size: clamp(2rem, 4vw, 2.5rem);
    margin-bottom: var(--spacing-md);
  }

  .seo-cta-content p {
    font-size: clamp(1rem, 2vw, 1.2rem);
    color: var(--color-text-muted);
    margin-bottom: var(--spacing-xl);
  }
</style>
